<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>mini_project</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <style>
        table {
          box-shadow: 0 4px 8px rgba(0,0,0,0.1);
          border-radius: 8px;
          overflow: hidden;
        }
        thead tr {
          background-color: #4a90e2;
          color: white;
        }
        tbody tr:nth-child(even) {
          background-color: #f9f9f9;
        }
        tbody tr:hover {
          background-color: #d0e4ff;
        }
        th, td {
          border: 1px solid #dee2e6;
        }
        h2 {
          color: #4a90e2;
          font-weight: bold;
        }
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="/student/dashboard">My Page</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="ms-auto d-flex">
                <a href="/article/timetable" class="btn btn-success me-2">
                    <i class="bi bi-calendar3"></i> 시간표
                </a>
                <a href="/student/dashboard" class="btn btn-primary me-2">
                    <i class="bi bi-journal-plus"></i> 수강신청
                </a>
                <a href="/login" class="btn btn-danger">
                    <i class="bi bi-box-arrow-right"></i> 로그아웃
                </a>
            </div>
        </div>
    </div>
</nav>

<!-- Container -->
<div class="container mt-5">

    <!-- 내 정보 -->
    <h2 class="text-center mb-4">나의 정보</h2>
    <table class="table table-hover table-bordered text-center align-middle">
        <thead>
        <tr>
            <th scope="col">학번</th>
            <th scope="col">이름</th>
            <th scope="col">계정</th>
            <th scope="col">비밀번호</th>
            <th scope="col">전공</th>
            <th scope="col">학년</th>
            <th scope="col">수정하기</th>
        </tr>
        </thead>
        <tbody>
        {{#student}}
            <tr>
                <td>{{studentNumber}}</td>
                <td>{{name}}</td>
                <td>{{email}}</td>
                <td>
                    <input type="password" value="{{password}}" readonly style="border:none; background: transparent; width: 100px;">
                </td>
                <td>{{major}}</td>
                <td>{{grade}}</td>
                <td>
                    <a href="/student/profile/edit" class="btn btn-success me-2">
                        <i class="bi bi-pencil-square"></i> 내 정보 수정
                    </a>
                </td>
            </tr>
        {{/student}}
        </tbody>
    </table>

    <!-- 수강 목록 -->
    <h2 class="text-center mt-5 mb-4">나의 수강신청 목록</h2>
    <table class="table table-hover table-bordered text-center align-middle">
        <thead>
        <tr>
            <th scope="col">이수구분</th>
            <th scope="col">개설학과</th>
            <th scope="col">학년</th>
            <th scope="col">과목코드</th>
            <th scope="col">과목명</th>
            <th scope="col">교수명</th>
            <th scope="col">요일</th>
            <th scope="col">시작시간</th>
            <th scope="col">종료시간</th>
            <th scope="col">학점</th>
            <th scope="col">정원</th>
            <th scope="col">관리</th>
        </tr>
        </thead>
        <tbody>
        {{#subjects}}
            <tr>
                <td>{{courseType}}</td>
                <td>{{department}}</td>
                <td>{{grade}}</td>
                <td>{{subjectCode}}</td>
                <td>{{subjectName}}</td>
                <td>{{professor}}</td>
                <td>{{weekday}}</td>
                <td>{{startTime}}</td>
                <td>{{endTime}}</td>
                <td>{{credit}}</td>
                <td>{{capacity}}</td>
                <td>
                    <form method="post" action="/student/subject/cancel/{{id}}">
                        <button type="submit" class="btn btn-sm btn-danger">
                            <i class="bi bi-x-circle"></i> 수강취소
                        </button>
                    </form>
                </td>
            </tr>
        {{/subjects}}
        {{^subjects}}
            <tr>
                <td colspan="12" class="text-center">아직 수강한 과목이 없습니다.</td>
            </tr>
        {{/subjects}}
        </tbody>
    </table>

</div> <!-- /container -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
{{> layouts/footer}}

</body>
</html>
